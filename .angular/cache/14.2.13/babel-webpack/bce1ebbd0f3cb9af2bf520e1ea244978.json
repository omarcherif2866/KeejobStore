{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CoachingEmploiComponent = class CoachingEmploiComponent {\n  constructor(coachingService, router) {\n    this.coachingService = coachingService;\n    this.router = router;\n    this.formations = [];\n    this.visibleFormations = [];\n    this.loading = false;\n    this.currentIndex = 0; // index de départ\n  }\n\n  ngOnInit() {\n    this.fetchFormation();\n  }\n\n  fetchFormation() {\n    this.loading = true;\n    this.coachingService.getFormationKeejob().subscribe(response => {\n      this.formations = response.map(f => new FormationKeejob(f.id, f.title, f.description, f.image));\n      this.updateVisibleFormations();\n      this.loading = false;\n    }, error => {\n      console.error('Erreur :', error);\n      this.loading = false;\n    });\n  }\n\n  sanitizeImage(url) {\n    if (!url) return ''; // Cas où l'URL est en double\n\n    if (url.includes(\"https://res.cloudinary.com\") && url.split(\"https://res.cloudinary.com\").length > 2) {\n      const parts = url.split(\"https://res.cloudinary.com/daxkymr4t/image/upload/\");\n      return \"https://res.cloudinary.com/daxkymr4t/image/upload/\" + parts[parts.length - 1];\n    }\n\n    return url;\n  }\n\n  updateVisibleFormations() {\n    this.visibleFormations = [];\n\n    for (let i = 0; i < 3; i++) {\n      const index = (this.currentIndex + i) % this.formations.length;\n      this.visibleFormations.push(this.formations[index]);\n    }\n  }\n\n  scrollRight() {\n    this.currentIndex = (this.currentIndex + 1) % this.formations.length;\n    this.updateVisibleFormations();\n  }\n\n  scrollLeft() {\n    this.currentIndex = (this.currentIndex - 1 + this.formations.length) % this.formations.length;\n    this.updateVisibleFormations();\n  }\n\n};\nCoachingEmploiComponent = __decorate([Component({\n  selector: 'app-coaching-emploi',\n  templateUrl: './coaching-emploi.component.html',\n  styleUrls: ['./coaching-emploi.component.css']\n})], CoachingEmploiComponent);\nexport { CoachingEmploiComponent };","map":null,"metadata":{},"sourceType":"module"}