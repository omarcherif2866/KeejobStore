{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterComponent = class RegisterComponent {\n  constructor(fb, userservice) {\n    this.fb = fb;\n    this.userservice = userservice;\n    this.user = {\n      id: -1,\n      username: \"\",\n      email: \" \",\n      password: \" \",\n      birthdate: \"\",\n      phone: \" \"\n    }; // Définir le style de fond directement dans le constructeur\n\n    document.body.style.backgroundImage = 'url(../../assets/images/gymblack.jpg)';\n    document.body.style.backgroundSize = 'cover';\n    document.body.style.height = '100vh';\n    document.body.style.margin = '0';\n  }\n\n  ngOnInit() {}\n\n  addUser() {\n    delete this.user.role;\n    return this.userservice.addUser(this.user).subscribe(newuser => {\n      this.user = newuser;\n      Swal.fire({\n        icon: 'success',\n        title: 'Utilisateur ajouté avec succès',\n        showConfirmButton: false,\n        timer: 1500 // Cacher automatiquement après 1.5 secondes\n\n      });\n      console.log(\"Utilisateur ajouté\");\n    }, error => {\n      let errorMessage = 'Erreur lors de l\\'ajout de l\\'utilisateur';\n\n      if (error.error && error.error.message) {\n        if (error.error.message.includes('Username')) {\n          errorMessage = 'Username existe deja!';\n        } else if (error.error.message.includes('Email')) {\n          errorMessage = 'Email existe deja!';\n        }\n      }\n\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: errorMessage,\n        showConfirmButton: false,\n        timer: 1500 // Cacher automatiquement après 1.5 secondes\n\n      });\n    });\n  }\n\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);\nexport { RegisterComponent };","map":null,"metadata":{},"sourceType":"module"}