{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet InternationalComponent = class InternationalComponent {\n  constructor(actualiteService, authService, router) {\n    this.actualiteService = actualiteService;\n    this.authService = authService;\n    this.router = router;\n    this.sidebarOpen = true;\n    this.actualites = [];\n    this.loading = false;\n    this.currentPage = 1;\n    this.itemsPerPage = 5;\n    this.showModal = false;\n    this.modalMode = 'add';\n    this.selectedImage = null;\n    this.formData = {\n      id: null,\n      title: '',\n      description: '',\n      date: '',\n      heure: ''\n    };\n  }\n\n  ngOnInit() {}\n\n  fetchActualites() {\n    this.loading = true;\n    this.actualiteService.getActualite().subscribe(response => {\n      // Transformer chaque JSON en instance de Formateur\n      this.actualites = response.map(f => new Actualite(f.id, f.title, f.description, f.date, f.heure, f.image));\n      this.actualites = this.actualites; // si pagination ou filtrage\n\n      this.loading = false;\n      console.log('Données reçues: ', this.actualites);\n    }, error => {\n      console.error('Erreur lors du chargement des actualites:', error);\n      this.loading = false;\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur lors du chargement des données',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    });\n  }\n\n  sanitizeImage(url) {\n    if (!url) return ''; // Cas où l'URL est en double\n\n    if (url.includes(\"https://res.cloudinary.com\") && url.split(\"https://res.cloudinary.com\").length > 2) {\n      const parts = url.split(\"https://res.cloudinary.com/daxkymr4t/image/upload/\");\n      return \"https://res.cloudinary.com/daxkymr4t/image/upload/\" + parts[parts.length - 1];\n    }\n\n    return url;\n  }\n\n};\nInternationalComponent = __decorate([Component({\n  selector: 'app-international',\n  templateUrl: './international.component.html',\n  styleUrls: ['./international.component.css']\n})], InternationalComponent);\nexport { InternationalComponent };","map":null,"metadata":{},"sourceType":"module"}