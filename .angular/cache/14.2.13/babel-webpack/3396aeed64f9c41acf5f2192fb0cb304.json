{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Role, User } from 'src/app/models/user';\nimport Swal from 'sweetalert2';\nlet RegisterComponent = class RegisterComponent {\n  constructor(userservice) {\n    // Définir le style de fond directement dans le constructeur\n    // document.body.style.backgroundImage = 'url(../../assets/images/gymblack.jpg)';\n    // document.body.style.backgroundSize = 'cover';\n    // document.body.style.height = '100vh';\n    // document.body.style.margin = '0';\n    this.userservice = userservice;\n    this.user = new User(\"\", \"\", \"\", false, \"\", Role.SIMPLEU);\n  }\n\n  ngOnInit() {}\n\n  addUser() {\n    // Supprimer la propriété Role n'est plus nécessaire\n    this.userservice.addUser(this.user).subscribe(newUser => {\n      this.user = newUser;\n      Swal.fire({\n        icon: 'success',\n        title: 'Utilisateur ajouté avec succès',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    }, error => {\n      let errorMessage = 'Erreur lors de l\\'ajout de l\\'utilisateur';\n\n      if (error.error && error.error.message) {\n        if (error.error.message.includes('Username')) {\n          errorMessage = 'Username existe déjà!';\n        } else if (error.error.message.includes('Email')) {\n          errorMessage = 'Email existe déjà!';\n        }\n      }\n\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur',\n        text: errorMessage,\n        showConfirmButton: false,\n        timer: 1500\n      });\n    });\n  }\n\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);\nexport { RegisterComponent };","map":null,"metadata":{},"sourceType":"module"}