{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Coaching } from 'src/app/models/coaching';\nimport Swal from 'sweetalert2';\nlet CoachingDetailsComponent = class CoachingDetailsComponent {\n  constructor(coachingService, partenaireService, route) {\n    this.coachingService = coachingService;\n    this.partenaireService = partenaireService;\n    this.route = route;\n    this.loading = false;\n    this.coachings = [];\n  }\n\n  ngOnInit() {\n    this.coachingId = Number(this.route.snapshot.paramMap.get('id')); // Charger l'évaluation spécifique\n\n    this.fetchCoachingById(this.coachingId);\n  }\n\n  fetchCoachingById(id) {\n    this.loading = true;\n    this.coachingService.getCoachingById(id).subscribe({\n      next: response => {\n        // Mettre UNE SEULE évaluation dans le tableau\n        this.coachings = [new Coaching(response)];\n        this.loading = false;\n        console.log('Coachings chargée:', this.coachings[0]);\n      },\n      error: error => {\n        console.error('Erreur lors du chargement de Coaching:', error);\n        this.loading = false;\n        Swal.fire({\n          icon: 'error',\n          title: 'Erreur lors du chargement des données',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n    });\n  }\n\n  sanitizeImage(url) {\n    if (!url) return '';\n\n    if (url.includes(\"https://res.cloudinary.com\") && url.split(\"https://res.cloudinary.com\").length > 2) {\n      const parts = url.split(\"https://res.cloudinary.com/daxkymr4t/image/upload/\");\n      return \"https://res.cloudinary.com/daxkymr4t/image/upload/\" + parts[parts.length - 1];\n    }\n\n    return url;\n  }\n\n  getColorClass(i) {\n    const colors = ['card-blue', 'card-yellow', 'card-green'];\n    return colors[i % 3]; // cycle automatiquement\n  }\n\n};\nCoachingDetailsComponent = __decorate([Component({\n  selector: 'app-coaching-details',\n  templateUrl: './coaching-details.component.html',\n  styleUrls: ['./coaching-details.component.css']\n})], CoachingDetailsComponent);\nexport { CoachingDetailsComponent };","map":null,"metadata":{},"sourceType":"module"}