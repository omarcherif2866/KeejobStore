{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet LogicielComponent = class LogicielComponent {\n  constructor(logicielService, partenaireService) {\n    this.logicielService = logicielService;\n    this.partenaireService = partenaireService;\n    this.logiciels = [];\n    this.selectedLogiciel = null;\n    this.newLogicielName = '';\n    this.selectedImage = null;\n    this.partenaires = [];\n  }\n\n  ngOnInit() {\n    this.loadLogiciels();\n    this.loadPartenaires();\n  }\n\n  loadLogiciels() {\n    if (!this.sousFormationId) return;\n    this.logicielService.getLogicielsBySousFormation(this.sousFormationId).subscribe(res => {\n      this.logiciels = res;\n    });\n  }\n\n  loadPartenaires() {\n    this.partenaireService.getPartenaire().subscribe(res => {\n      this.partenaires = res;\n    });\n  }\n\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) this.selectedImage = file;\n  }\n\n  addLogiciel() {\n    if (!this.newLogicielName) return alert(\"Nom du logiciel requis\");\n    const fd = new FormData();\n    fd.append('name', this.newLogicielName);\n    fd.append('sousFormationKeejobId', this.sousFormationId.toString());\n    if (this.selectedImage) fd.append('image', this.selectedImage, this.selectedImage.name);\n    this.logicielService.addLogiciel(fd).subscribe(res => {\n      this.logiciels.push(res); // ajouter à la liste existante\n\n      this.newLogicielName = '';\n      this.selectedImage = null;\n    });\n  }\n\n  selectLogiciel(logiciel) {\n    this.selectedLogiciel = logiciel;\n    console.log(\"Logiciel sélectionné:\", logiciel);\n  }\n\n};\n\n__decorate([Input()], LogicielComponent.prototype, \"sousFormationId\", void 0);\n\nLogicielComponent = __decorate([Component({\n  selector: 'app-logiciel',\n  templateUrl: './logiciel.component.html',\n  styleUrls: ['./logiciel.component.css']\n})], LogicielComponent);\nexport { LogicielComponent };","map":null,"metadata":{},"sourceType":"module"}