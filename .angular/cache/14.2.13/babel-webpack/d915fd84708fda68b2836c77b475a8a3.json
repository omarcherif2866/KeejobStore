{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Formateur } from 'src/app/models/formateur';\nimport Swal from 'sweetalert2';\nlet HomePage = class HomePage {\n  constructor(title, formateurservice) {\n    this.title = title;\n    this.formateurservice = formateurservice;\n    this.formateurs = [];\n    this.loading = false;\n    this.searchActive = false;\n    this.experts = [{\n      name: \"David Aplegate\",\n      profession: \"Professeur en MBA\",\n      hours: \"24+ h taught\",\n      mode: \"video chat\",\n      color: \"#F5F5F5\",\n      avatarColor: \"#B5C4DE\",\n      avatar: \"../../assets/image3077112-6q95-300h.png\"\n    }, {\n      name: \"Maria Vawda\",\n      profession: \"Expert en finance d'entreprise\",\n      hours: \"24+ h taught\",\n      mode: \"video chat\",\n      color: \"#F5F5F5\",\n      avatarColor: \"#9ED4DC\",\n      avatar: \"../../assets/image3097112-8rce-300w.png\"\n    }, {\n      name: \"Angelina Elrick\",\n      profession: \"Experte en Marketing \",\n      hours: \"24+ h taught\",\n      mode: \"video chat\",\n      color: \"#F5F5F5\",\n      avatarColor: \"#DFF5A0\",\n      avatar: \"../../assets/image3117112-vsbr-300w.png\"\n    }, {\n      name: \"Helina Sue\",\n      profession: \"coach en développement personnel\",\n      hours: \"20+ h taught\",\n      mode: \"video chat\",\n      color: \"#F5F5F5\",\n      avatarColor: \"#AD96EF\",\n      avatar: \"../../assets/image3107112-1gss-300h.png\"\n    }];\n    this.coursPopulaires = [{\n      titre: 'Cours Populaires',\n      description: 'Ces cours sont généralement suivis par les demandeurs d’emploi qui cherchent à améliorer leurs compétences',\n      icone: '../../assets/book.svg',\n      couleur: 'rgba(78, 142, 201, 1)'\n    }, {\n      titre: 'Meilleurs Formations',\n      description: 'Ces formations conçues pour vous fournir une base solide.',\n      icone: '../../assets/formationIcon.svg',\n      couleur: '#72B656'\n    }, {\n      titre: 'Certifications',\n      description: 'Egestas faucibus nisl et ultricies. Tempus lectus condimentum tristique mauris id vitae. Id pulvinar eget vitae.',\n      icone: '../../assets/certifIcon.svg',\n      couleur: '#EE7F50'\n    }];\n    this.title.setTitle('Keejob Store');\n  }\n\n  ngOnInit() {\n    this.fetchFormateurs();\n  }\n\n  fetchFormateurs() {\n    this.loading = true;\n    this.formateurservice.getFormateur().subscribe(response => {\n      // Transformer chaque JSON en instance de Formateur\n      this.formateurs = response.map(f => new Formateur(f.id, f.phone, f.description, f.address, f.email, f.experience, f.poste, f.firstName, f.lastName, f.university, f.image, f.servicesFormateurs || [], f.titleWhyList || []));\n      this.formateurs = this.formateurs; // si pagination ou filtrage\n\n      this.loading = false;\n      console.log('Données reçues: ', this.formateurs);\n    }, error => {\n      console.error('Erreur lors du chargement des formateurs:', error);\n      this.loading = false;\n      Swal.fire({\n        icon: 'error',\n        title: 'Erreur lors du chargement des données',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    });\n  }\n\n  sanitizeImage(url) {\n    if (!url) return ''; // Cas où l'URL est en double\n\n    if (url.includes(\"https://res.cloudinary.com\") && url.split(\"https://res.cloudinary.com\").length > 2) {\n      const parts = url.split(\"https://res.cloudinary.com/daxkymr4t/image/upload/\");\n      return \"https://res.cloudinary.com/daxkymr4t/image/upload/\" + parts[parts.length - 1];\n    }\n\n    return url;\n  }\n\n  toggleSearch() {\n    this.searchActive = !this.searchActive;\n  }\n\n};\nHomePage = __decorate([Component({\n  selector: 'home-page',\n  templateUrl: 'home-page.component.html',\n  styleUrls: ['home-page.component.css']\n})], HomePage);\nexport { HomePage };","map":null,"metadata":{},"sourceType":"module"}