{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProfilComponent = class ProfilComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.user = {};\n  }\n\n  ngOnInit() {\n    this.userId = Number(localStorage.getItem('userId')); // ⭐ récup ID\n\n    this.loadUser(); // ⭐ charger données\n  }\n\n  loadUser() {\n    this.userService.getUserById(this.userId).subscribe({\n      next: data => {\n        this.user = data; // ⭐ charge l'utilisateur dans le form\n\n        console.log(\"Utilisateur chargé :\", this.user);\n      },\n      error: () => {\n        console.error(\"Erreur chargement user\");\n      }\n    });\n  }\n\n  update() {\n    this.userService.updateUser(this.userId, this.user).subscribe({\n      next: updatedUser => {\n        console.log(\"Profil mis à jour :\", updatedUser);\n        alert(\"Profil modifié avec succès !\");\n      },\n      error: () => {\n        console.error(\"Erreur lors de la mise à jour\");\n        alert(\"Erreur lors de la modification\");\n      }\n    });\n  }\n\n};\nProfilComponent = __decorate([Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.css']\n})], ProfilComponent);\nexport { ProfilComponent };","map":null,"metadata":{},"sourceType":"module"}