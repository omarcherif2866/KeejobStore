{"ast":null,"code":"import { effect, signal } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let LayoutService = /*#__PURE__*/(() => {\n  class LayoutService {\n    constructor() {\n      this._config = {\n        ripple: false,\n        inputStyle: 'outlined',\n        menuMode: 'static',\n        colorScheme: 'light',\n        theme: 'lara-light-indigo',\n        scale: 14\n      };\n      this.config = signal(this._config);\n      this.state = {\n        staticMenuDesktopInactive: false,\n        overlayMenuActive: false,\n        profileSidebarVisible: false,\n        configSidebarVisible: false,\n        staticMenuMobileActive: false,\n        menuHoverActive: false\n      };\n      this.configUpdate = new Subject();\n      this.overlayOpen = new Subject();\n      this.configUpdate$ = this.configUpdate.asObservable();\n      this.overlayOpen$ = this.overlayOpen.asObservable();\n      effect(() => {\n        const config = this.config();\n\n        if (this.updateStyle(config)) {\n          this.changeTheme();\n        }\n\n        this.changeScale(config.scale);\n        this.onConfigUpdate();\n      });\n    }\n\n    updateStyle(config) {\n      return config.theme !== this._config.theme || config.colorScheme !== this._config.colorScheme;\n    }\n\n    onMenuToggle() {\n      if (this.isOverlay()) {\n        this.state.overlayMenuActive = !this.state.overlayMenuActive;\n\n        if (this.state.overlayMenuActive) {\n          this.overlayOpen.next(null);\n        }\n      }\n\n      if (this.isDesktop()) {\n        this.state.staticMenuDesktopInactive = !this.state.staticMenuDesktopInactive;\n      } else {\n        this.state.staticMenuMobileActive = !this.state.staticMenuMobileActive;\n\n        if (this.state.staticMenuMobileActive) {\n          this.overlayOpen.next(null);\n        }\n      }\n    }\n\n    showProfileSidebar() {\n      this.state.profileSidebarVisible = !this.state.profileSidebarVisible;\n\n      if (this.state.profileSidebarVisible) {\n        this.overlayOpen.next(null);\n      }\n    }\n\n    showConfigSidebar() {\n      this.state.configSidebarVisible = true;\n    }\n\n    isOverlay() {\n      return this.config().menuMode === 'overlay';\n    }\n\n    isDesktop() {\n      return window.innerWidth > 991;\n    }\n\n    isMobile() {\n      return !this.isDesktop();\n    }\n\n    onConfigUpdate() {\n      this._config = Object.assign({}, this.config());\n      this.configUpdate.next(this.config());\n    }\n\n    changeTheme() {\n      const config = this.config();\n      const themeLink = document.getElementById('theme-css');\n      const themeLinkHref = themeLink.getAttribute('href');\n      const newHref = themeLinkHref.split('/').map(el => el == this._config.theme ? el = config.theme : el == `theme-${this._config.colorScheme}` ? el = `theme-${config.colorScheme}` : el).join('/');\n      this.replaceThemeLink(newHref);\n    }\n\n    replaceThemeLink(href) {\n      const id = 'theme-css';\n      let themeLink = document.getElementById(id);\n      const cloneLinkElement = themeLink.cloneNode(true);\n      cloneLinkElement.setAttribute('href', href);\n      cloneLinkElement.setAttribute('id', id + '-clone');\n      themeLink.parentNode.insertBefore(cloneLinkElement, themeLink.nextSibling);\n      cloneLinkElement.addEventListener('load', () => {\n        themeLink.remove();\n        cloneLinkElement.setAttribute('id', id);\n      });\n    }\n\n    changeScale(value) {\n      document.documentElement.style.fontSize = `${value}px`;\n    }\n\n  }\n\n  LayoutService.ɵfac = function LayoutService_Factory(t) {\n    return new (t || LayoutService)();\n  };\n\n  LayoutService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LayoutService,\n    factory: LayoutService.ɵfac,\n    providedIn: 'root'\n  });\n  return LayoutService;\n})();","map":null,"metadata":{},"sourceType":"module"}