{"ast":null,"code":"import { ChangeDetectorRef, EventEmitter } from '@angular/core';\nimport { SousFormationKeejob } from 'src/app/models/sous-formation-keejob';\nimport { Partenaire } from 'src/app/models/partenaire';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/partenaire.service\";\nimport * as i2 from \"src/app/services/sous-formation-keejob.service\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\n\nfunction SousFormationKeejobComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 4);\n    i0.…µ…µelement(1, \"div\", 5);\n    i0.…µ…µelementStart(2, \"p\");\n    i0.…µ…µtext(3, \"Chargement des sous-formations...\");\n    i0.…µ…µelementEnd()();\n  }\n}\n\nfunction SousFormationKeejobComponent_div_6_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 20)(1, \"p\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\u2713 Image s\\u00E9lectionn\\u00E9e : \", ctx_r2.selectedImage.name, \"\");\n  }\n}\n\nfunction SousFormationKeejobComponent_div_6_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 21);\n    i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_div_6_div_18_Template_div_click_0_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r7);\n      const p_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r6.togglePartenaire(p_r5));\n    });\n    i0.…µ…µelement(1, \"img\", 22);\n    i0.…µ…µelementStart(2, \"p\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd()();\n  }\n\n  if (rf & 2) {\n    const p_r5 = ctx.$implicit;\n    const ctx_r3 = i0.…µ…µnextContext(2);\n    i0.…µ…µclassProp(\"selected\", ctx_r3.isSelected(p_r5));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", ctx_r3.sanitizeImage(p_r5.Image), i0.…µ…µsanitizeUrl)(\"alt\", p_r5.Title);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(p_r5.Title);\n  }\n}\n\nfunction SousFormationKeejobComponent_div_6_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 23)(1, \"div\", 24)(2, \"input\", 25);\n    i0.…µ…µlistener(\"ngModelChange\", function SousFormationKeejobComponent_div_6_div_22_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.…µ…µrestoreView(_r11);\n      const detail_r8 = restoredCtx.$implicit;\n      return i0.…µ…µresetView(detail_r8.titre = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"textarea\", 26);\n    i0.…µ…µlistener(\"ngModelChange\", function SousFormationKeejobComponent_div_6_div_22_Template_textarea_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.…µ…µrestoreView(_r11);\n      const detail_r8 = restoredCtx.$implicit;\n      return i0.…µ…µresetView(detail_r8.description = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"input\", 27);\n    i0.…µ…µlistener(\"ngModelChange\", function SousFormationKeejobComponent_div_6_div_22_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.…µ…µrestoreView(_r11);\n      const detail_r8 = restoredCtx.$implicit;\n      return i0.…µ…µresetView(detail_r8.icon = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"button\", 28);\n    i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_div_6_div_22_Template_button_click_5_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r11);\n      const i_r9 = restoredCtx.index;\n      const ctx_r14 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r14.removeDetail(i_r9));\n    });\n    i0.…µ…µtext(6, \" Supprimer \");\n    i0.…µ…µelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const detail_r8 = ctx.$implicit;\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngModel\", detail_r8.titre);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngModel\", detail_r8.description);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngModel\", detail_r8.icon);\n  }\n}\n\nfunction SousFormationKeejobComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"h3\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"div\", 8)(5, \"label\");\n    i0.…µ…µtext(6, \"Titre *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"input\", 9);\n    i0.…µ…µlistener(\"ngModelChange\", function SousFormationKeejobComponent_div_6_Template_input_ngModelChange_7_listener($event) {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r15 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r15.formData.title = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"label\");\n    i0.…µ…µtext(9, \"Description *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"textarea\", 10);\n    i0.…µ…µlistener(\"ngModelChange\", function SousFormationKeejobComponent_div_6_Template_textarea_ngModelChange_10_listener($event) {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r17 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r17.formData.description = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"label\");\n    i0.…µ…µtext(12, \"Image *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(13, \"input\", 11);\n    i0.…µ…µlistener(\"change\", function SousFormationKeejobComponent_div_6_Template_input_change_13_listener($event) {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r18 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r18.onImageSelected($event));\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(14, SousFormationKeejobComponent_div_6_div_14_Template, 3, 1, \"div\", 12);\n    i0.…µ…µelementStart(15, \"label\");\n    i0.…µ…µtext(16, \"Partenaires\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(17, \"div\", 13);\n    i0.…µ…µtemplate(18, SousFormationKeejobComponent_div_6_div_18_Template, 4, 5, \"div\", 14);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(19, \"label\");\n    i0.…µ…µtext(20, \"D\\u00E9tails\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(21, \"div\", 15);\n    i0.…µ…µtemplate(22, SousFormationKeejobComponent_div_6_div_22_Template, 7, 3, \"div\", 16);\n    i0.…µ…µelementStart(23, \"button\", 17);\n    i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_div_6_Template_button_click_23_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r19 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r19.addDetail());\n    });\n    i0.…µ…µtext(24, \" + Ajouter un d\\u00E9tail \");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(25, \"div\", 18)(26, \"button\", 1);\n    i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_div_6_Template_button_click_26_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r20 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r20.handleSubmit());\n    });\n    i0.…µ…µtext(27);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(28, \"button\", 19);\n    i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_div_6_Template_button_click_28_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r21 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r21.closeModal());\n    });\n    i0.…µ…µtext(29, \"Annuler\");\n    i0.…µ…µelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\", ctx_r1.modalMode === \"add\" ? \"Ajouter\" : \"Modifier\", \" une Sous-Formation\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngModel\", ctx_r1.formData.title);\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngModel\", ctx_r1.formData.description);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngIf\", ctx_r1.selectedImage);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r1.partenaires);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r1.formData.details);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r1.modalMode === \"add\" ? \"Ajouter\" : \"Modifier\", \" \");\n  }\n}\n\nexport let SousFormationKeejobComponent = /*#__PURE__*/(() => {\n  class SousFormationKeejobComponent {\n    constructor(partenaireservice, sousFormationKeejobService, cdr, partenaireService, authService, router) {\n      this.partenaireservice = partenaireservice;\n      this.sousFormationKeejobService = sousFormationKeejobService;\n      this.cdr = cdr;\n      this.partenaireService = partenaireService;\n      this.authService = authService;\n      this.router = router;\n      this.sousFormationSelected = new EventEmitter();\n      this.sidebarOpen = true;\n      this.sousFormationKeejob = [];\n      this.partenaires = [];\n      this.selectedPartenaires = [];\n      this.loading = false; // currentPage = 1;\n\n      this.itemsPerPage = 5;\n      this.showModal = false;\n      this.modalMode = 'add';\n      this.formData = {\n        id: null,\n        title: '',\n        description: '',\n        image: '',\n        formationKeejobId: null,\n        sousFormationPartenaires: [],\n        details: [],\n        titleLogiciel: '' // ‚úÖ Ajout de titleLogiciel\n\n      };\n      this.editId = null;\n      this.selectedImage = null;\n    }\n\n    ngOnInit() {\n      console.log('üöÄ SousFormationKeejob - Initialisation');\n      console.log('üìå formationId re√ßu:', this.formationId);\n      console.log('fetchsousFormationKeejob:', this.fetchsousFormationKeejob());\n      this.fetchsousFormationKeejob();\n      this.fetchPartenaires();\n    }\n\n    fetchsousFormationKeejob() {\n      this.loading = true;\n      console.log('üì° R√©cup√©ration des sous-formations...');\n      this.sousFormationKeejobService.getSousFormationKeejob().subscribe(response => {\n        console.log('‚úÖ R√©ponse brute:', response);\n        console.log('üîç Premier objet de response:', response[0]); // Pas de filtrage si la r√©ponse ne contient pas formationId\n\n        const filteredResponse = response;\n        this.sousFormationKeejob = filteredResponse.map(f => new SousFormationKeejob(f.id, f.title, f.description, f.image, f.sousFormationPartenaires || [], this.formationId, // ‚úÖ utiliser l'ID courant manuellement\n        f.sousFormationLogiciel || [], f.titleLogiciel));\n        this.loading = false;\n        console.log('‚úÖ Sous-formations mapp√©es:', this.sousFormationKeejob);\n      }, error => {\n        console.error('‚ùå Erreur chargement:', error);\n        this.loading = false;\n        Swal.fire({\n          icon: 'error',\n          title: 'Erreur lors du chargement',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      });\n    }\n\n    fetchPartenaires() {\n      this.partenaireservice.getPartenaire().subscribe(response => {\n        this.partenaires = response.map(p => new Partenaire(p.id, p.title, p.description, p.image));\n        console.log('‚úÖ Partenaires charg√©s:', this.partenaires.length);\n      }, error => {\n        console.error('‚ùå Erreur partenaires:', error);\n      });\n    } // get currentItems(): SousFormationKeejob[] {\n    //   const indexOfLastItem = this.currentPage * this.itemsPerPage;\n    //   const indexOfFirstItem = indexOfLastItem - this.itemsPerPage;\n    //   return this.sousFormationKeejob.slice(indexOfFirstItem, indexOfLastItem);\n    // }\n\n\n    get totalPages() {\n      return Math.ceil(this.sousFormationKeejob.length / this.itemsPerPage);\n    }\n\n    get pagesArray() {\n      return Array(this.totalPages).fill(0).map((_, i) => i + 1);\n    } // handlePageChange(pageNumber: number) {\n    //   this.currentPage = pageNumber;\n    // }\n\n\n    handleAdd() {\n      this.modalMode = 'add';\n      this.formData = {\n        id: null,\n        title: '',\n        description: '',\n        image: '',\n        formationKeejobId: this.formationId,\n        sousFormationPartenaires: [],\n        details: [],\n        titleLogiciel: '' // ‚úÖ Ajout\n\n      };\n      this.selectedPartenaires = [];\n      this.selectedImage = null;\n      this.showModal = true;\n    }\n\n    handleEdit(sousFormation) {\n      var _a;\n\n      this.modalMode = 'edit';\n      this.formData = {\n        id: sousFormation.Id,\n        title: sousFormation.Title,\n        description: sousFormation.Description,\n        image: sousFormation.Image,\n        formationKeejobId: ((_a = sousFormation.FormationKeejob) === null || _a === void 0 ? void 0 : _a.Id) || this.formationId,\n        sousFormationPartenaires: sousFormation.Partenaires || [],\n        details: sousFormation.Details ? [...sousFormation.Details] : [],\n        titleLogiciel: sousFormation.TitleLogiciel\n      };\n      this.editId = sousFormation.Id;\n      this.showModal = true;\n    }\n\n    handleDelete(id) {\n      Swal.fire({\n        title: '√ätes-vous s√ªr?',\n        text: \"Cette action est irr√©versible!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Oui, supprimer!',\n        cancelButtonText: 'Annuler'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.sousFormationKeejobService.deleteSousFormationKeejob(id).subscribe(() => {\n            this.sousFormationKeejob = this.sousFormationKeejob.filter(item => item.Id !== id);\n            Swal.fire({\n              title: 'Supprim√©!',\n              text: 'Sous-formation supprim√©e avec succ√®s',\n              icon: 'success',\n              timer: 1500,\n              showConfirmButton: false\n            });\n          }, error => {\n            console.error('Erreur suppression:', error);\n            Swal.fire({\n              icon: 'error',\n              title: 'Erreur lors de la suppression',\n              timer: 1500\n            });\n          });\n        }\n      });\n    }\n\n    handleSubmit() {\n      if (!this.formData.title || !this.formData.description) {\n        Swal.fire({\n          icon: 'warning',\n          title: 'Attention',\n          text: 'Veuillez remplir tous les champs obligatoires',\n          timer: 2000\n        });\n        return;\n      }\n\n      const formData = new FormData();\n      formData.append('title', this.formData.title);\n      formData.append('description', this.formData.description);\n\n      if (this.formationId) {\n        formData.append('formationKeejobId', this.formationId.toString());\n      }\n\n      if (this.selectedImage) {\n        formData.append('image', this.selectedImage, this.selectedImage.name);\n      }\n\n      if (this.selectedPartenaires.length > 0) {\n        this.selectedPartenaires.forEach(p => {\n          formData.append(\"partenairesIds\", p.id.toString());\n        });\n      }\n\n      if (this.formData.details.length > 0) {\n        formData.append('details', JSON.stringify(this.formData.details));\n      }\n\n      const afterSuccess = response => {\n        Swal.fire({\n          title: 'Succ√®s!',\n          text: this.modalMode === 'add' ? 'Sous-formation ajout√©e avec succ√®s' : 'Sous-formation modifi√©e avec succ√®s',\n          icon: 'success',\n          timer: 1500,\n          showConfirmButton: false\n        });\n        this.closeModal();\n        this.fetchsousFormationKeejob(); // ‚úÖ √âmettre la sous-formation ajout√©e pour passer automatiquement au Step 3\n\n        if (this.modalMode === 'add') {\n          this.sousFormationSelected.emit(response); // <-- IMPORTANT\n        }\n      };\n\n      if (this.modalMode === 'add') {\n        this.sousFormationKeejobService.addSousFormationKeejob(formData).subscribe(afterSuccess, error => {\n          console.error('Erreur ajout:', error);\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur lors de l\\'ajout',\n            timer: 1500\n          });\n        });\n      } else {\n        this.sousFormationKeejobService.putSousFormationKeejob(this.editId, formData).subscribe(afterSuccess, error => {\n          console.error('Erreur modification:', error);\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur lors de la modification',\n            timer: 1500\n          });\n        });\n      }\n    }\n\n    addDetail() {\n      this.formData.details.push({\n        titre: '',\n        description: '',\n        icon: ''\n      });\n    } // ‚úÖ Supprimer un d√©tail\n\n\n    removeDetail(index) {\n      this.formData.details.splice(index, 1);\n    }\n\n    closeModal() {\n      this.showModal = false;\n      this.formData = {\n        id: null,\n        title: '',\n        description: '',\n        image: '',\n        formationKeejobId: null,\n        sousFormationPartenaires: [],\n        details: [] // ‚úÖ R√©initialiser details\n\n      };\n      this.selectedPartenaires = [];\n      this.selectedImage = null;\n    }\n\n    onImageSelected(event) {\n      const file = event.target.files[0];\n\n      if (file) {\n        if (!file.type.startsWith('image/')) {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            text: 'Veuillez s√©lectionner une image valide',\n            timer: 1500,\n            showConfirmButton: false\n          });\n          return;\n        }\n\n        if (file.size > 5 * 1024 * 1024) {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            text: 'L\\'image ne doit pas d√©passer 5MB',\n            timer: 1500,\n            showConfirmButton: false\n          });\n          return;\n        }\n\n        this.selectedImage = file;\n      }\n    }\n\n    sanitizeImage(url) {\n      if (!url) return '';\n\n      if (url.includes(\"https://res.cloudinary.com\") && url.split(\"https://res.cloudinary.com\").length > 2) {\n        const parts = url.split(\"https://res.cloudinary.com/daxkymr4t/image/upload/\");\n        return \"https://res.cloudinary.com/daxkymr4t/image/upload/\" + parts[parts.length - 1];\n      }\n\n      return url;\n    }\n\n    togglePartenaire(p) {\n      const index = this.selectedPartenaires.findIndex(x => x.Id === p.Id);\n\n      if (index > -1) {\n        // Retirer le partenaire\n        this.selectedPartenaires.splice(index, 1);\n      } else {\n        // Ajouter le partenaire\n        this.selectedPartenaires.push(p);\n      } // ‚úÖ Synchroniser avec formData\n\n\n      this.formData.sousFormationPartenaires = [...this.selectedPartenaires];\n      console.log('Partenaires s√©lectionn√©s:', this.selectedPartenaires);\n    }\n\n    isSelected(p) {\n      return this.selectedPartenaires.some(x => x.id === p.Id);\n    }\n\n    editSousFormationFromParent(sf) {\n      var _a;\n\n      console.log('Edition SF:', sf);\n      this.modalMode = 'edit'; // Charger les donn√©es de base\n\n      this.formData = {\n        id: sf.id || sf.Id,\n        title: sf.title || sf.Title,\n        description: sf.description || sf.Description,\n        image: sf.image || sf.Image,\n        formationKeejobId: sf.formationKeejobId || ((_a = sf.FormationKeejob) === null || _a === void 0 ? void 0 : _a.Id),\n        sousFormationPartenaires: [],\n        details: sf.details || sf.Details || [] // ‚úÖ Charger les d√©tails\n\n      };\n\n      if (this.formData.image) {\n        this.selectedImage = {\n          name: 'Image existante'\n        };\n      }\n\n      this.showModal = true; // Charger les partenaires associ√©s depuis l'API\n\n      if (this.formData.id) {\n        this.partenaireService.getPartenaireBySousFormationKeejob(this.formData.id).subscribe({\n          next: partenaires => {\n            console.log('Partenaires r√©cup√©r√©s:', partenaires); // ‚úÖ Remplir selectedPartenaires pour que isSelected() fonctionne\n\n            this.selectedPartenaires = partenaires; // ‚úÖ Aussi remplir formData pour la soumission\n\n            this.formData.sousFormationPartenaires = partenaires;\n            this.cdr.detectChanges();\n          },\n          error: error => {\n            console.error('Erreur lors du chargement des partenaires:', error);\n            this.selectedPartenaires = [];\n            this.formData.sousFormationPartenaires = [];\n          }\n        });\n      } else {\n        this.selectedPartenaires = [];\n      }\n    }\n\n  }\n\n  SousFormationKeejobComponent.…µfac = function SousFormationKeejobComponent_Factory(t) {\n    return new (t || SousFormationKeejobComponent)(i0.…µ…µdirectiveInject(i1.PartenaireService), i0.…µ…µdirectiveInject(i2.SousFormationKeejobService), i0.…µ…µdirectiveInject(i0.ChangeDetectorRef), i0.…µ…µdirectiveInject(i1.PartenaireService), i0.…µ…µdirectiveInject(i3.AuthService), i0.…µ…µdirectiveInject(i4.Router));\n  };\n\n  SousFormationKeejobComponent.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n    type: SousFormationKeejobComponent,\n    selectors: [[\"app-sous-formation-keejob\"]],\n    inputs: {\n      formationId: \"formationId\"\n    },\n    outputs: {\n      sousFormationSelected: \"sousFormationSelected\"\n    },\n    decls: 7,\n    vars: 2,\n    consts: [[1, \"header-actions\"], [1, \"btn\", \"btn-blue\", 3, \"click\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"loader\"], [1, \"spinner\"], [1, \"modal\"], [1, \"modal-content-rectangle\"], [1, \"modal-body\", \"scrollable\"], [\"type\", \"text\", \"placeholder\", \"Entrez le titre\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"4\", \"placeholder\", \"Entrez la description\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"form-input\", 3, \"change\"], [\"class\", \"selected-file\", 4, \"ngIf\"], [1, \"partenaire-grid\"], [\"class\", \"partenaire-item\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"details-section\"], [\"class\", \"detail-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-green\", 3, \"click\"], [1, \"modal-actions\"], [1, \"btn\", \"btn-gray\", 3, \"click\"], [1, \"selected-file\"], [1, \"partenaire-item\", 3, \"click\"], [3, \"src\", \"alt\"], [1, \"detail-item\"], [1, \"detail-inputs\"], [\"type\", \"text\", \"placeholder\", \"Titre du d\\u00E9tail\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"2\", \"placeholder\", \"Description du d\\u00E9tail\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"URL de l'ic\\u00F4ne\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-red-small\", 3, \"click\"]],\n    template: function SousFormationKeejobComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µelementStart(0, \"div\")(1, \"div\", 0)(2, \"button\", 1);\n        i0.…µ…µlistener(\"click\", function SousFormationKeejobComponent_Template_button_click_2_listener() {\n          return ctx.handleAdd();\n        });\n        i0.…µ…µelementStart(3, \"span\");\n        i0.…µ…µtext(4, \"Ajouter une Sous-Formation\");\n        i0.…µ…µelementEnd()()();\n        i0.…µ…µtemplate(5, SousFormationKeejobComponent_div_5_Template, 4, 0, \"div\", 2);\n        i0.…µ…µelementEnd();\n        i0.…µ…µtemplate(6, SousFormationKeejobComponent_div_6_Template, 30, 7, \"div\", 3);\n      }\n\n      if (rf & 2) {\n        i0.…µ…µadvance(5);\n        i0.…µ…µproperty(\"ngIf\", ctx.loading);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", ctx.showModal);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel],\n    styles: [\".app-container[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:#f3f4f6;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.sidebar[_ngcontent-%COMP%]{width:0;background-color:#111827;color:#fff;overflow:hidden;transition:width .3s}.sidebar.open[_ngcontent-%COMP%]{width:250px}.sidebar-content[_ngcontent-%COMP%]{padding:24px}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:2.5rem}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 15px;margin-bottom:5px;border-radius:8px;text-decoration:none;color:#d1d5db;transition:background .3s,color .3s}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1f2937;color:#fff}.icon[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:10px}.main-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px;background-color:#fff;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:10}header[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937}.spacer[_ngcontent-%COMP%]{width:40px}.content-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 8px #0000000d;padding:32px}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.header-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1f2937}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:1rem;font-weight:600;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-blue[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.btn-blue[_ngcontent-%COMP%]:hover{background-color:#1e40af}.btn-gray[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-gray[_ngcontent-%COMP%]:hover{background:#5a6268;box-shadow:0 4px 12px #6c757d4d}.btn-icon[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;font-size:16px}.loader[_ngcontent-%COMP%]{text-align:center;padding:48px 0}.spinner[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px;border:4px solid #2563eb;border-bottom-color:transparent;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:12px}@keyframes spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#9ca3af;font-size:16px;padding:48px 0}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background-color:#f9fafb}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;font-size:14px;border-bottom:1px solid #e5e7eb}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:6px;cursor:pointer;display:inline-flex;align-items:center;gap:5px;font-size:.9rem;transition:all .3s ease;font-weight:500}.action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.edit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.edit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #f5576c66}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:24px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;margin-left:4px;border-radius:6px;border:1px solid #d1d5db;background-color:#fff;cursor:pointer}.pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border:none}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:50}.modal-content-rectangle[_ngcontent-%COMP%]{width:80vw;max-width:1000px;height:75vh;background:white;border-radius:10px;padding:20px;display:flex;flex-direction:column}.modal-body.scrollable[_ngcontent-%COMP%]{overflow-y:auto;padding-right:10px;max-height:70vh}.modal-content-rectangle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-content-rectangle[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:6px;border:1px solid #d1d5db;margin-bottom:16px}.modal-content-rectangle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-content-rectangle[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 2px #2563eb4d}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:16px}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a[_ngcontent-%COMP%]{cursor:pointer}.ev-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:cover;object-fit:cover;border-radius:50%;transition:transform .2s ease;display:block}.ev-image[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}.partenaire-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));grid-gap:12px;gap:12px;margin:10px 0}.partenaire-item[_ngcontent-%COMP%]{padding:8px;border:2px solid #ccc;border-radius:10px;text-align:center;cursor:pointer;transition:.2s}.partenaire-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;-o-object-fit:contain;object-fit:contain}.partenaire-item.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e5f1ff}.container-formulaire[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto;padding-right:10px}.landscape[_ngcontent-%COMP%]{width:100vh;height:100vw;transform:rotate(90deg);transform-origin:left top;position:absolute;top:0;left:0}\"]\n  });\n  return SousFormationKeejobComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}